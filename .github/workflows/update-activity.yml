name: Update GitHub Activity

on:
  schedule:
    - cron: '*/30 * * * *' # Runs every 30 minutes
  workflow_dispatch:      # Allows you to trigger it manually

jobs:
  update-activity:
    runs-on: ubuntu-latest
    permissions:
      contents: write # Allows the action to write to your README
    steps:
      - uses: actions/checkout@v4
      - name: Update GitHub Activity
        uses: TheDanniCraft/activity-log@v1
        with:
          GITHUB_USERNAME: wwatts-dev
          GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
          EVENT_LIMIT: 5
          OUTPUT_STYLE: "HTML"
          HIDE_DETAILS_ON_PRIVATE_REPOS: true   # Show that you worked on a private repo but not show the commit message or repo name (for ultimate privacy)
          IGNORE_EVENTS: "WatchEvent, FollowEvent, ForkEvent"  # Hides stars/follows/forking to keep it focused on coding
          ## Optional "Administrative" Events (Can be spammy):
            # CreateEvent: Whenever you create a new branch or a new repository. (If you create many feature branches, this might push your actual commits off the list).
            # DeleteEvent: Whenever you delete a branch after merging it.
            # GollumEvent: This is GitHub's name for Wiki updates. If you edit a projectâ€™s Wiki, it shows up here.
            # MemberEvent: If you are added as a collaborator to someone else's repository.
          COMMIT_MESSAGE: "Recent Activity Update: {{DATE}}" # Adds a nice timestamped commit msg for each activity